var timeseriesLineChart=function(){let t,n,e,r,a,o,i,l,u,c,d,f,s,h,p={top:20,right:20,bottom:30,left:60},g=900-p.left-p.right,m=120-p.top-p.bottom,x=function(t){return t.dateValue},y=function(t){return t.yValue},v=d3.curveMonotoneX,b=!1,w=!0,z=d3.rgb(30,30,30,.4),k="#c6dbef",A=!0,V=d3.line().curve(v).x((function(t){return c(x(t))})).y((function(t){return d(y(t))})),C=d3.area().curve(v).x((function(t){return c(x(t))})).y0((function(t){return d(a(t))})).y1((function(t){return d(r(t))}));const E=d3.zoom().scaleExtent([1,1/0]).translateExtent([[-80,-80],[g+80,m+80]]).extent([[0,0],[g,m]]).on("zoom",(function(){var t=d3.event.transform,n=t.rescaleX(c);w&&l.selectAll(".line").attr("d",d3.line().curve(v).x((function(t){return n(x(t))})).y((function(t){return d(y(t))})));a&&r&&l.selectAll(".range").attr("d",d3.area().curve(v).x((function(t){return n(x(t))})).y0((function(t){return d(a(t))})).y1((function(t){return d(r(t))})));b&&l.selectAll("circle").attr("cx",(function(t){return n(x(t))})).attr("cy",(function(t){return d(y(t))}));if(u.select(".axis--x").call(f.scale(n)),u.select(".domain").remove(),e){if(d3.event.sourceEvent&&"zoom"===d3.event.sourceEvent.type)return;e(t)}}));const _=function(){return"_"+Math.random().toString(36).substr(2,9)};function L(t,e){o=e,i=t,h=_(),n||(n=d3.extent(o,t=>x(t))),W()}function W(){if(i){let e;if(l?(l.selectAll("*").remove(),l.attr("width",g+p.left+p.right).attr("height",m+p.top+p.bottom)):l=i.append("svg").attr("width",g+p.left+p.right).attr("height",m+p.top+p.bottom),(u=l.append("g").attr("transform","translate("+p.left+","+p.top+")")).append("clipPath").attr("id",`clip_${h}`).append("rect").attr("x",0).attr("y",-2).attr("width",g).attr("height",m+2),c=d3.scaleTime().domain(n).range([0,g]).nice(),a&&r){e=[d3.min(o,t=>a(t)<y(t)?a(t):y(t)),d3.max(o,t=>r(t)>y(t)?r(t):y(t))]}else e=d3.extent(o,y);d=d3.scaleLinear().domain(e).range([m,0]).nice(),a&&r&&u.append("path").datum(o).attr("class","range").attr("fill",k).attr("d",C).attr("clip-path",`url(#clip_${h})`),w&&u.append("path").datum(o).attr("class","line").attr("d",V).attr("clip-path",`url(#clip_${h})`).attr("fill","none").attr("stroke","steelblue").attr("stroke-linejoin","round").attr("stroke-width","1px"),b&&u.selectAll("dot").data(o).enter().append("circle").attr("clip-path",`url(#clip_${h})`).attr("r",1.5).attr("fill",z).attr("stroke","none").attr("cx",(function(t){return c(x(t))})).attr("cy",(function(t){return d(y(t))})),s=d3.axisLeft(d).tickSize(-g).ticks(6).tickPadding(10),u.append("g").attr("class","axis axis--y").call(s),u.selectAll(".tick line").attr("opacity",.15),f=d3.axisBottom(c),u.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+m+")").call(f),u.selectAll(".domain").remove(),t&&u.append("text").attr("x",0).attr("y",-10).style("text-anchor","start").style("font-weight","bold").style("font-size",12).text(t),A?l.call(E):l.call(E).on("wheel.zoom",null)}}function $(){W()}return L.zoomWithWheel=function(t){return arguments.length?(A=t,L):A},L.applyTransform=function(t){l&&E.transform(l,t)},L.resetZoom=function(){l&&l.transition().duration(750).call(E.transform,d3.zoomIdentity)},L.zoomedHandler=function(t){return arguments.length?(e=t,L):e},L.margin=function(t){return arguments.length?(oldChartWidth=g+p.left+p.right,oldChartHeight=m+p.top+p.bottom,p=t,g=oldChartWidth-p.left-p.right,m=oldChartHeight-p.top-p.bottom,$(),L):p},L.dateExtent=function(t){return arguments.length?(n=t,l&&W(),L):n},L.dateValue=function(t){return arguments.length?(x=t,l&&W(),L):x},L.showLine=function(t){return arguments.length?(w=t,l&&W(),L):w},L.showPoints=function(t){return arguments.length?(b=t,l&&W(),L):b},L.curveFunction=function(t){return arguments.length?(v=t,V=d3.line().curve(v).x((function(t){return c(x(t))})).y((function(t){return d(y(t))})),C=d3.area().curve(v).x((function(t){return c(x(t))})).y0((function(t){return d(a(t))})).y1((function(t){return d(r(t))})),l&&W(),L):v},L.yValue=function(t){return arguments.length?(y=t,l&&W(),L):y},L.lowValue=function(t){return arguments.length?(a=t,l&&W(),L):a},L.highValue=function(t){return arguments.length?(r=t,l&&W(),L):r},L.width=function(t){return arguments.length?(g=t-p.left-p.right,l&&$(),L):g},L.height=function(t){return arguments.length?(m=t-p.top-p.bottom,l&&$(),L):m},L.titleText=function(n){return arguments.length?(t=n,L):t},L};